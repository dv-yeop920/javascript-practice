<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>무한스크롤 예제</title>
  <link rel="stylesheet" href="./src/css/scroll.css">
</head>
<body>         
  <h1>무한스크롤</h1>
  <section id="container">
    <div class="box">
      <p>
        1번째 블록
      </p>
    </div>
    <div class="box">
      <p>
        2번째 블록
      </p>
    </div>
    <div class="box">
        <p>
          3번째 블록
        </p>
      </div>
      <div class="box">
        <p>
          4번째 블록
        </p>
      </div>
      <div class="box">
        <p>
          1번째 블록
        </p>
      </div>
      <div class="box">
        <p>
          2번째 블록
        </p>
      </div>
      <div class="box">
          <p>
            3번째 블록
          </p>
        </div>
        <div class="box">
          <p>
            4번째 블록
          </p>
        </div>
    
  </section>
  <script>
    let count = 0;
    window.onscroll = function() {
      console.log(window.innerHeight , window.scrollY,document.body.offsetHeight)
      if(window.innerHeight + window.scrollY >= document.body.offsetHeight) { 
        setTimeout(function(){
          const addContent = document.createElement("div");
          addContent.classList.add("box")
          addContent.innerHTML = `<p>${++count}번째 블록</p>`
          document.querySelector('section').appendChild(addContent);
        }, 100) 
      }
    }
  </script>
</body>
</html>